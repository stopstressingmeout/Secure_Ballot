generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Voter {
  NID          String   @id
  name         String
  father       String
  mother       String
  dob          DateTime
  phone        String
  constituency String
  walletAddress   String
  hasVoted     Boolean  @default(false)
  email        String?
  address      String?
}

model DecentralizedVoter {
  NID          String  @id
  name         String
  constituency String
  hasVoted     Boolean @default(false)
}

model Election {
  id            String   @id
  name          String
  startDate     DateTime
  endDate       DateTime
}

model Constituency {
  id        String @id
  name      String @unique
  votes    Int
  winner   String?
  candidates Candidate[] @relation("belongingConstituency")
}

model Candidate {
  id            String @id
  name          String
  party         String 
  partyLogo     String
  votes         Int
  image         String
  belongingConstituency  Constituency @relation("belongingConstituency", fields: [belongingConstituencyId], references: [id])
  belongingConstituencyId String
}